<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Hw2andrea-arismendy : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <script type="text/javascript" src="d3/d3.js"></script>

    <title>Hw2andrea-arismendy</title>
  </head>

  <body>
    <div id="header">
      <img src="https://www.purdue.edu/purdue/images/logo.png" style="size:70%"/>
    </div>
    <div>
      <table style="width: 60%; float:left; display:inline border: 1px solid black">
        <th style="width:12.5%">Name</th>
        <th style="width:12.5%">GPA</th>
        <th style="width:12.5%">GRE_V</th>
        <th style="width:12.5%">GRE_Q</th>
        <th style="width:12.5%">Essay</th>
        <th style="width:12.5%">Recom</th>
        <th style="width:12.5%">Total</th>
        <th style="width:12.5%">Ranking</th>
      </table>
      <img id="picture" src="https://krannertlife.purdue.edu/wp-content/uploads/2013/07/Purdue-Students-life.jpg" style="float:right; display:inline; width:30%"/>
    </div>
    <div>
      <p style="text-align:left">
         Total=GPA+GRE_V+GRE_Q+Essay+Recom.<br/>
         Ranking=Order of the Total Score from highest total to lowest total.
           
         </p>
    </div>
    

    <Script type="text/javascript">
      d3.json("https://hivelab.org/static/students.json",function(data){
        for(var i=0; i<data.length; i++){
          var BetterScore =0;
          var Participants=new Array(data.length);
          for(var k=0;k<data.length;k++){
            Participants[k]=new Array(2);
          }
          
          var position=1;
          for(var i=0;i<data.length;i++){
            var total1=data[i].GPA+data[i].GRE_V+data[i].GRE_Q+data[i].Essay+data[i].Recom;
            Participants[i][0]=total1;
          }
          }
          for(var j=0;j<data.length;j++){
            BetterScore=0;
           for(var i=0;i<data.length;i++){
            if(Participants[i][0]>BetterScore){
              BetterScore=Participants[i][0];
            }
          }
          for(var i=0;i<data.length;i++){
            if(Participants[i][0]===BetterScore){
              Participants[i][0]=0;
              Participants[i][1]=position;
            }
          }
          position++;
          }
          for(var i=0;i<data.length;i++){
            var row=d3.select("tbody").append("tr");
            row.append("td").text(data[i].Name);
            row.append("td").text(data[i].GPA);
            row.append("td").text(data[i].GRE_V);
            row.append("td").text(data[i].GRE_Q);
            row.append("td").text(data[i].Essay);
            row.append("td").text(data[i].Recom);
            row.append("td").text(data[i].GPA+data[i].GRE_V+data[i].GRE_Q+data[i].Essay+data[i].Recom);
            row.append("td").text(Participants[i][1]);
          }
        });
    
    </Script>
  </body>
</html>
